{"version":3,"sources":["App.js","index.js"],"names":["api","App","useState","city","setcity","coord","lon","lat","weather","id","main","description","icon","base","temp","feels_like","temp_min","temp_max","pressure","humidity","visibility","wind","speed","deg","clouds","all","dt","sys","type","country","sunrise","sunset","timezone","name","cod","weath","setweather","list","setlist","place","temperature","about","data","setData","refreshList","axios","get","then","res","catch","err","console","log","handleDelete","item","target","value","delete","className","placeholder","onChange","e","onKeyPress","key","fetch","json","result","post","map","onClick","ReactDOM","render","document","getElementById"],"mappings":"2MAIMA,EACC,mCADDA,EAEE,2CAuIOC,MApIf,WAAgB,IAAD,EACWC,mBAAS,WADpB,mBACNC,EADM,KACAC,EADA,OAEeF,mBAAS,CACnCG,MAAO,CACLC,IAAK,KACLC,IAAK,OAEPC,QAAS,CACP,CACEC,GAAI,IACJC,KAAM,OACNC,YAAa,OACbC,KAAM,QAGVC,KAAM,WACNH,KAAM,CACJI,KAAM,cACNC,WAAY,MACZC,SAAU,GACVC,SAAU,GACVC,SAAU,KACVC,SAAU,IAEZC,WAAY,IACZC,KAAM,CACJC,MAAO,KACPC,IAAK,IAEPC,OAAQ,CACNC,IAAK,GAEPC,GAAI,WACJC,IAAK,CACHC,KAAM,EACNnB,GAAI,KACJoB,QAAS,KACTC,QAAS,WACTC,OAAQ,YAEVC,SAAU,MACVvB,GAAI,QACJwB,KAAM,QACNC,IAAK,MA3CM,mBAENC,EAFM,KAECC,EAFD,OA8CWlC,mBAAS,IA9CpB,mBA8CNmC,EA9CM,KA8CAC,EA9CA,OA+CWpC,mBAAS,CAC/BqC,MAAO,GACPC,YAAa,GACbC,MAAO,KAlDI,mBA+CNC,EA/CM,KA+CAC,EA/CA,KAoDPC,EAAc,WAClBC,IACGC,IAAI,oBACJC,MAAK,SAACC,GAAD,OAASV,EAAQU,EAAIN,SAC1BO,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,OAE1BG,EAAe,SAACC,GACpBH,QAAQC,IAAIE,EAAKC,OAAOC,OACxBX,IACGY,OADH,2BAC8BH,EAAKC,OAAOC,MAD1C,MAEGT,MAAK,kBAAMH,QA0BhB,OACE,qBAAKc,UAAU,MAAf,SACE,iCACE,uBACE9B,KAAK,OACL+B,YAAY,eACZH,MAAOrD,EACPyD,SAAU,SAACC,GAAD,OAAOzD,EAAQyD,EAAEN,OAAOC,QAClCE,UAAU,QACVI,WAzBO,SAACD,GACA,UAAVA,EAAEE,KACJC,MAAM,GAAD,OAAIhE,EAAJ,qBAAyBG,EAAzB,+BAAoDH,IACtD+C,MAAK,SAACC,GAAD,OAASA,EAAIiB,UAClBlB,MAAK,SAACmB,GAXQ,IAAClB,EAYK,QAAfkB,EAAOhC,MACTE,EAAW8B,GACXtB,IAdYI,EAeCkB,EAdrBxB,EAAKH,MAAQS,EAAIf,KACjBS,EAAKF,YAAcQ,EAAItC,KAAKI,KAC5B4B,EAAKD,MAAQO,EAAIxC,QAAQ,GAAGE,KAC5BiC,EAAQ,eAAKD,IACbG,IAAMsB,KAAK,oBAAqBzB,GAAMK,MAAK,kBAAMH,OAWzCO,QAAQC,IAAIV,IAEdtC,EAAQ,UAiBV,qBAAKsD,UAAU,eAAf,SACE,sBAAKA,UAAU,WAAf,UACGvB,EAAMF,KADT,IACgBE,EAAMR,IAAIE,aAK5B,sBAAK6B,UAAU,cAAf,UACE,sBAAKA,UAAU,OAAf,cAAwBvB,EAAMzB,KAAKI,KAAnC,cACA,qBAAK4C,UAAU,UAAf,SAA0BvB,EAAM3B,QAAQ,GAAGG,iBAE7C,qBAAK+C,UAAU,cAAf,SACGrB,EAAK+B,KAAI,SAACA,GAAD,OACR,sBAAKV,UAAU,YAAf,UACE,wBACEA,UAAU,YACVF,MAAOY,EAAI3D,GACX4D,QAAShB,EAHX,eAOA,oBAAIK,UAAU,SAAd,SAAwBU,EAAI7B,QAC5B,sBAAMmB,UAAU,cAAhB,SAA+BU,EAAI3B,QACnC,mBAAGiB,UAAU,aAAb,SAA2BU,EAAI5B,gBAVD4B,EAAI3D,eCrHhD6D,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.44703dba.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\n\nconst api = {\n  key: \"8814a34486850b05a6fc1dafa89c8b3a\",\n  base: \"https://api.openweathermap.org/data/2.5/\",\n};\n\nfunction App() {\n  const [city, setcity] = useState(\"Jamtara\");\n  const [weath, setweather] = useState({\n    coord: {\n      lon: 86.8,\n      lat: 23.95,\n    },\n    weather: [\n      {\n        id: 721,\n        main: \"Haze\",\n        description: \"haze\",\n        icon: \"50d\",\n      },\n    ],\n    base: \"stations\",\n    main: {\n      temp: \"Temperature\",\n      feels_like: 23.33,\n      temp_min: 25,\n      temp_max: 25,\n      pressure: 1017,\n      humidity: 50,\n    },\n    visibility: 4000,\n    wind: {\n      speed: 4.12,\n      deg: 20,\n    },\n    clouds: {\n      all: 0,\n    },\n    dt: 1612587920,\n    sys: {\n      type: 1,\n      id: 9144,\n      country: \"IN\",\n      sunrise: 1612572698,\n      sunset: 1612612928,\n    },\n    timezone: 19800,\n    id: 1269298,\n    name: \"Place\",\n    cod: 200,\n  });\n\n  const [list, setlist] = useState([]);\n  const [data, setData] = useState({\n    place: \"\",\n    temperature: \"\",\n    about: \"\",\n  });\n  const refreshList = () => {\n    axios\n      .get(\"api/Weatherapps/\")\n      .then((res) => setlist(res.data))\n      .catch((err) => console.log(err));\n  };\n  const handleDelete = (item) => {\n    console.log(item.target.value);\n    axios\n      .delete(`/api/Weatherapps/${item.target.value}/`)\n      .then(() => refreshList());\n  };\n\n  const handleUpdate = (res) => {\n    data.place = res.name;\n    data.temperature = res.main.temp;\n    data.about = res.weather[0].main;\n    setData({ ...data });\n    axios.post(\"/api/Weatherapps/\", data).then(() => refreshList());\n  };\n  const search = (e) => {\n    if (e.key === \"Enter\") {\n      fetch(`${api.base}weather?q=${city}&units=metric&appid=${api.key}`)\n        .then((res) => res.json())\n        .then((result) => {\n          if (result.cod !== \"404\") {\n            setweather(result);\n            refreshList();\n            handleUpdate(result);\n            console.log(data);\n          }\n          setcity(\"\");\n        });\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <main>\n        <input\n          type=\"text\"\n          placeholder=\"City Name...\"\n          value={city}\n          onChange={(e) => setcity(e.target.value)}\n          className=\"place\"\n          onKeyPress={search}\n        ></input>\n\n        <div className=\"location-box\">\n          <div className=\"location\">\n            {weath.name},{weath.sys.country}\n          </div>\n          {/* <div className=\"date-time\">Saturday 11 January 2021</div> */}\n        </div>\n\n        <div className=\"weather-box\">\n          <div className=\"temp\"> {weath.main.temp}à¥°C </div>\n          <div className=\"weather\">{weath.weather[0].description}</div>\n        </div>\n        <div className=\"about-place\">\n          {list.map((map) => (\n            <div className=\"aboutlist\" key={map.id}>\n              <button\n                className=\"about-btn\"\n                value={map.id}\n                onClick={handleDelete}\n              >\n                X\n              </button>\n              <h3 className=\"abouth\">{map.place}</h3>\n              <span className=\"about-about\">{map.about}</span>\n              <p className=\"about-temp\">{map.temperature}</p>\n            </div>\n          ))}\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n\n// 4bd34a0c791dbd6dc7181987589830b9\n\n// api.openweathermap.org/data/2.5/weather?q={city name}&appid={API key}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}